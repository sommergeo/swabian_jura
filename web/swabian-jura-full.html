<!DOCTYPE html>
<html lang="en">
<head>
	
	<title>Swabian Jura</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
	<meta name="mobile-web-app-capable" content="yes">
	<link rel="stylesheet" href="leaflet.css" />
	<script src="leaflet.js"></script>
    <style>
	html, body, #mapid {
		width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
    }
    </style>
	
</head>
<body>


<div id="mapid"></div>
<script>

	var mymap = L.map('mapid').setView([48.5, 9.9], 11);
	
    mymap.attributionControl.addAttribution('<a href="http:www.roceeh.net" target="_blank">ROCEEH</a> | <a href="https://sommergeo.github.io/swabian_jura/" target="_blank">Git</a>');
	
	
	
	// Symbology 
	var orangeMarker = {
	radius: 8,
	fillColor: "#ff7800",
	color: "#000",
	weight: 1,
	opacity: 1,
	fillOpacity: 0.6
	};
	
	
	
	// Background Maps
	var Esri_WorldTopoMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {
	attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community'
	});
	
	var Esri_NatGeoWorldMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}', {
	attribution: 'Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC',
	maxZoom: 16
	}).addTo(mymap);
	
	var Esri_WorldImagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
	attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
	});
	
	// Data and Layers
	var localities = {
		"type": "FeatureCollection",
		"name": "localities",
		"crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
		"features": [
		{ "type": "Feature", "properties": { "fid": 1, "LAT": 48.55861, "LON": 10.19417, "NAME": "Vogelherd", "X_UTM32": 588113, "Y_TUM32": 5379079, "NUMBER": 14, "IMG": "https://upload.wikimedia.org/wikipedia/commons/6/6d/Tübungen_MUT_%286%29.jpg" }, "geometry": { "type": "Point", "coordinates": [ 10.1941667, 48.5586111 ] } },
		{ "type": "Feature", "properties": { "fid": 2, "LAT": 48.54917, "LON": 10.1725, "NAME": "Hohlenstein-Stadel", "X_UTM32": 586530, "Y_TUM32": 5378004, "NUMBER": 13, "IMG": "https://upload.wikimedia.org/wikipedia/commons/4/4c/Loewenmensch1.jpg" }, "geometry": { "type": "Point", "coordinates": [ 10.1725, 48.54916667 ] } },
		{ "type": "Feature", "properties": { "fid": 3, "LAT": 48.55417, "LON": 10.155, "NAME": "Bockstein", "X_UTM32": 585230, "Y_TUM32": 5378541, "NUMBER": 12, "IMG": "https://upload.wikimedia.org/wikipedia/commons/6/67/Bocksteinhoehle_20080621.jpg" }, "geometry": { "type": "Point", "coordinates": [ 10.155, 48.55416667 ] } },
		{ "type": "Feature", "properties": { "fid": 4, "LAT": 48.54787, "LON": 9.89178, "NAME": "Haldenstein", "X_UTM32": 565815, "Y_TUM32": 5377580, "NUMBER": 11, "IMG": "https://upload.wikimedia.org/wikipedia/commons/0/0b/Haldensteinhoehle_3.jpg" }, "geometry": { "type": "Point", "coordinates": [ 9.891779, 48.547865 ] } },
		{ "type": "Feature", "properties": { "fid": 5, "LAT": 48.37917, "LON": 9.75389, "NAME": "Hohle Fels", "X_UTM32": 555823, "Y_TUM32": 5358719, "NUMBER": 6, "IMG": "https://upload.wikimedia.org/wikipedia/commons/1/18/VenusHohlefels2.jpg" }, "geometry": { "type": "Point", "coordinates": [ 9.753888889, 48.379166669999989 ] } },
		{ "type": "Feature", "properties": { "fid": 6, "LAT": 48.38694, "LON": 9.76111, "NAME": "Sirgenstein", "X_UTM32": 556349, "Y_TUM32": 5359589, "NUMBER": 7, "IMG": "https://upload.wikimedia.org/wikipedia/commons/f/fd/Sirgensteinhöhle_3_2013-10-04.jpg" }, "geometry": { "type": "Point", "coordinates": [ 9.761111111, 48.38694444 ] } },
		{ "type": "Feature", "properties": { "fid": 7, "LAT": 48.39806, "LON": 9.77139, "NAME": "Geißenklösterle", "X_UTM32": 557098, "Y_TUM32": 5360831, "NUMBER": 8, "IMG": "https://upload.wikimedia.org/wikipedia/commons/1/1f/Mammut_Geissenkloesterle_Blaubeuren.jpg" }, "geometry": { "type": "Point", "coordinates": [ 9.771388889, 48.39805556 ] } },
		{ "type": "Feature", "properties": { "fid": 8, "LAT": 48.405, "LON": 9.80083, "NAME": "Große Grotte", "X_UTM32": 559269, "Y_TUM32": 5361626, "NUMBER": 10, "IMG": "https://www.urmu.de/ceasy/resource/?id=4104" }, "geometry": { "type": "Point", "coordinates": [ 9.800833333, 48.405 ] } },
		{ "type": "Feature", "properties": { "fid": 9, "LAT": 48.40528, "LON": 9.7775, "NAME": "Brillenhöhle", "X_UTM32": 557542, "Y_TUM32": 5361639, "NUMBER": 9, "IMG": "https://upload.wikimedia.org/wikipedia/commons/f/f6/Brillenhoehle_Blaubeuren_innen.jpg" }, "geometry": { "type": "Point", "coordinates": [ 9.7775, 48.40527778 ] } },
		{ "type": "Feature", "properties": { "fid": 10, "LAT": 48.3625, "LON": 9.72111, "NAME": "Kogelstein", "X_UTM32": 553414, "Y_TUM32": 5356843, "NUMBER": 5, "IMG": "https://www.urmu.de/ceasy/resource/?id=4082" }, "geometry": { "type": "Point", "coordinates": [ 9.721111111, 48.3625 ] } },
		{ "type": "Feature", "properties": { "fid": 11, "LAT": 49.83083, "LON": 8.04778, "NAME": "Wallertheim", "X_UTM32": 431518, "Y_TUM32": 5520257, "NUMBER": null, "IMG": null }, "geometry": { "type": "Point", "coordinates": [ 8.047777778, 49.83083333 ] } },
		{ "type": "Feature", "properties": { "fid": 12, "LAT": 48.675, "LON": 10.15028, "NAME": "Heidenschmiede", "X_UTM32": 584680, "Y_TUM32": 5391966, "NUMBER": 16, "IMG": "https://upload.wikimedia.org/wikipedia/commons/d/d4/Abri_Heidenschmiede.jpg" }, "geometry": { "type": "Point", "coordinates": [ 10.15027778, 48.675 ] } },
		{ "type": "Feature", "properties": { "fid": 13, "LAT": 48.18023, "LON": 9.20795, "NAME": "Annakapellenhöhle", "X_UTM32": 515458, "Y_TUM32": 5336353, "NUMBER": 1, "IMG": "https://upload.wikimedia.org/wikipedia/commons/6/60/2019-04-08_Anna-Kapellen-Höhle.jpg" }, "geometry": { "type": "Point", "coordinates": [ 9.207948, 48.180231 ] } },
		{ "type": "Feature", "properties": { "fid": 14, "LAT": 48.17987, "LON": 9.20956, "NAME": "Göpfelsteinhöhle", "X_UTM32": 515578, "Y_TUM32": 5336313, "NUMBER": 2, "IMG": "https://upload.wikimedia.org/wikipedia/commons/9/95/Göpfelsteinhöhle_Veringenstadt_2.jpg" }, "geometry": { "type": "Point", "coordinates": [ 9.20956, 48.179868 ] } },
		{ "type": "Feature", "properties": { "fid": 15, "LAT": 48.17672, "LON": 9.2117, "NAME": "Nikolaushöhle", "X_UTM32": 515738, "Y_TUM32": 5335964, "NUMBER": 4, "IMG": "https://upload.wikimedia.org/wikipedia/commons/e/ed/Nikolaushöhle_Veringenstadt.jpg" }, "geometry": { "type": "Point", "coordinates": [ 9.211698, 48.176717 ] } },
		{ "type": "Feature", "properties": { "fid": 16, "LAT": 48.17672, "LON": 9.21143, "NAME": "Schafstallhöhle", "X_UTM32": 515718, "Y_TUM32": 5335963, "NUMBER": 3, "IMG": "https://upload.wikimedia.org/wikipedia/commons/3/35/1946_Ausgrabungen_Peters_Schafstall_II.jpg" }, "geometry": { "type": "Point", "coordinates": [ 9.211429, 48.176717 ] } },
		{ "type": "Feature", "properties": { "fid": 17, "LAT": 48.5669, "LON": 10.2133, "NAME": "Langmahdhalde", "X_UTM32": 589510, "Y_TUM32": 5380023, "NUMBER": 15, "IMG": null }, "geometry": { "type": "Point", "coordinates": [ 10.2133, 48.5669 ] } }
		]}


	


	// Just the Markers
	//var Localities = L.geoJSON(localities, {
	//	pointToLayer: function (feature, latlng) {
	//	return L.circleMarker(latlng, orangeMarker);
	//}}).addTo(mymap);



	// Markers and PopUps
    function popUpFunction(feature, layer) {
        var popupContent = "<p><img src='"+ feature.properties.IMG + "' width='150'><br><b>" + feature.properties.NAME + 
            "</b></br><span>Lat: </span>"+ feature.properties.LAT +
            "</br><span>Lon: </span>"+ feature.properties.LON + "</p>";
        layer.bindPopup(popupContent);
    }

	var Localities = L.geoJSON(localities, {
		onEachFeature: popUpFunction,
		pointToLayer: function (feature, latlng) {
		return L.circleMarker(latlng, orangeMarker);
	}}).addTo(mymap);



    var basemaps = {"Topography": Esri_WorldTopoMap, "National Geographic": Esri_NatGeoWorldMap, "Imagery": Esri_WorldImagery};
	//L.control.layers(basemaps, {'Sites':Localities}, {collapsed:false}).addTo(mymap);
	L.control.layers(basemaps, {'Sites <svg width="19" height="19" > <circle cx="10" cy="10" r="8" fill="#ff7800" stroke="#000" opacity="1" fill-opacity="0.7"/></svg>':Localities}, {collapsed:false}).addTo(mymap);	
	
	L.control.scale({position:'topleft'}).addTo(mymap);


</script>

</body>
</html>
